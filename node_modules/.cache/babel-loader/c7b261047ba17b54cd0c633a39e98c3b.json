{"ast":null,"code":"/**\n * name: fireworks-js\n * version: 2.0.2\n * author: Vitalij Ryndin (https://crashmax.ru)\n * homepage: https://fireworks.js.org\n * license MIT\n */\nvar b = Object.defineProperty;\n\nvar E = (n, t, s) => t in n ? b(n, t, {\n  enumerable: !0,\n  configurable: !0,\n  writable: !0,\n  value: s\n}) : n[t] = s;\n\nvar i = (n, t, s) => (E(n, typeof t != \"symbol\" ? t + \"\" : t, s), s);\n\nfunction d(n, t) {\n  return Math.random() * (t - n) + n;\n}\n\nfunction r(n, t) {\n  return Math.floor(d(n, t + 1));\n}\n\nfunction f(n, t, s, e) {\n  const o = Math.pow;\n  return Math.sqrt(o(n - s, 2) + o(t - e, 2));\n}\n\nfunction g(n, t) {\n  let s = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 1;\n  if (n > 360 || n < 0) throw new Error(`Expected hue 0-360 range, got \\`${n}\\``);\n  if (t > 100 || t < 0) throw new Error(`Expected lightness 0-100 range, got \\`${t}\\``);\n  if (s > 1 || s < 0) throw new Error(`Expected alpha 0-1 range, got \\`${s}\\``);\n  return `hsla(${n}, 100%, ${t}%, ${s})`;\n}\n\nconst v = n => {\n  if (typeof n == \"object\" && n !== null) {\n    if (typeof Object.getPrototypeOf == \"function\") {\n      const t = Object.getPrototypeOf(n);\n      return t === Object.prototype || t === null;\n    }\n\n    return Object.prototype.toString.call(n) === \"[object Object]\";\n  }\n\n  return !1;\n},\n      M = [\"__proto__\", \"constructor\", \"prototype\"],\n      w = function () {\n  for (var _len = arguments.length, n = new Array(_len), _key = 0; _key < _len; _key++) {\n    n[_key] = arguments[_key];\n  }\n\n  return n.reduce((t, s) => (Object.keys(s).forEach(e => {\n    M.includes(e) || (Array.isArray(t[e]) && Array.isArray(s[e]) ? t[e] = s[e] : v(t[e]) && v(s[e]) ? t[e] = w(t[e], s[e]) : t[e] = s[e]);\n  }), t), {});\n};\n\nclass L {\n  constructor(_ref) {\n    let {\n      x: t,\n      y: s,\n      ctx: e,\n      hue: o,\n      decay: c,\n      gravity: u,\n      friction: l,\n      brightness: a,\n      flickering: p,\n      lineWidth: x,\n      explosionLength: m\n    } = _ref;\n    i(this, \"x\");\n    i(this, \"y\");\n    i(this, \"ctx\");\n    i(this, \"hue\");\n    i(this, \"friction\");\n    i(this, \"gravity\");\n    i(this, \"flickering\");\n    i(this, \"lineWidth\");\n    i(this, \"explosionLength\");\n    i(this, \"angle\");\n    i(this, \"speed\");\n    i(this, \"brightness\");\n    i(this, \"coordinates\", []);\n    i(this, \"decay\");\n    i(this, \"alpha\", 1);\n\n    for (this.x = t, this.y = s, this.ctx = e, this.hue = o, this.gravity = u, this.friction = l, this.flickering = p, this.lineWidth = x, this.explosionLength = m, this.angle = d(0, Math.PI * 2), this.speed = r(1, 10), this.brightness = r(a.min, a.max), this.decay = d(c.min, c.max); this.explosionLength--;) this.coordinates.push([t, s]);\n  }\n\n  update(t) {\n    this.coordinates.pop(), this.coordinates.unshift([this.x, this.y]), this.speed *= this.friction, this.x += Math.cos(this.angle) * this.speed, this.y += Math.sin(this.angle) * this.speed + this.gravity, this.alpha -= this.decay, this.alpha <= this.decay && t();\n  }\n\n  draw() {\n    const t = this.coordinates.length - 1;\n    this.ctx.beginPath(), this.ctx.lineWidth = this.lineWidth, this.ctx.fillStyle = g(this.hue, this.brightness, this.alpha), this.ctx.moveTo(this.coordinates[t][0], this.coordinates[t][1]), this.ctx.lineTo(this.x, this.y), this.ctx.strokeStyle = g(this.hue, this.flickering ? d(0, this.brightness) : this.brightness, this.alpha), this.ctx.stroke();\n  }\n\n}\n\nclass z {\n  constructor() {\n    i(this, \"hue\");\n    i(this, \"rocketsPoint\");\n    i(this, \"opacity\");\n    i(this, \"acceleration\");\n    i(this, \"friction\");\n    i(this, \"gravity\");\n    i(this, \"particles\");\n    i(this, \"trace\");\n    i(this, \"explosion\");\n    i(this, \"mouse\");\n    i(this, \"boundaries\");\n    i(this, \"sound\");\n    i(this, \"delay\");\n    i(this, \"brightness\");\n    i(this, \"decay\");\n    i(this, \"flickering\");\n    i(this, \"intensity\");\n    i(this, \"traceSpeed\");\n    i(this, \"lineWidth\");\n    i(this, \"lineStyle\");\n    i(this, \"autoresize\");\n    this.autoresize = !0, this.lineStyle = \"round\", this.flickering = 50, this.trace = 3, this.traceSpeed = 10, this.intensity = 30, this.explosion = 5, this.gravity = 1.5, this.opacity = 0.5, this.particles = 50, this.friction = 0.95, this.acceleration = 1.05, this.hue = {\n      min: 0,\n      max: 360\n    }, this.rocketsPoint = {\n      min: 50,\n      max: 50\n    }, this.lineWidth = {\n      explosion: {\n        min: 1,\n        max: 3\n      },\n      trace: {\n        min: 1,\n        max: 2\n      }\n    }, this.mouse = {\n      click: !1,\n      move: !1,\n      max: 1\n    }, this.delay = {\n      min: 15,\n      max: 30\n    }, this.brightness = {\n      min: 50,\n      max: 80\n    }, this.decay = {\n      min: 0.015,\n      max: 0.03\n    }, this.sound = {\n      enabled: !1,\n      files: [\"explosion0.mp3\", \"explosion1.mp3\", \"explosion2.mp3\"],\n      volume: {\n        min: 4,\n        max: 8\n      }\n    }, this.boundaries = {\n      height: 0,\n      width: 0,\n      x: 50,\n      y: 50\n    };\n  }\n\n  updateOptions(t) {\n    Object.assign(this, w(this, t));\n  }\n\n}\n\nconst h = new z();\n\nclass O {\n  constructor(t) {\n    i(this, \"active\", !1);\n    i(this, \"x\");\n    i(this, \"y\");\n    this.canvas = t, this.mouseDown = this.mouseDown.bind(this), this.mouseUp = this.mouseUp.bind(this), this.mouseMove = this.mouseMove.bind(this);\n  }\n\n  subscribe() {\n    this.canvas.addEventListener(\"mousedown\", this.mouseDown), this.canvas.addEventListener(\"mouseup\", this.mouseUp), this.canvas.addEventListener(\"mousemove\", this.mouseMove);\n  }\n\n  unsubscribe() {\n    this.canvas.removeEventListener(\"mousedown\", this.mouseDown), this.canvas.removeEventListener(\"mouseup\", this.mouseUp), this.canvas.removeEventListener(\"mousemove\", this.mouseMove);\n  }\n\n  useMouse(t, s) {\n    (h.mouse.click || h.mouse.move) && (this.x = t.pageX - this.canvas.offsetLeft, this.y = t.pageY - this.canvas.offsetTop, this.active = s);\n  }\n\n  mouseDown(t) {\n    this.useMouse(t, h.mouse.click);\n  }\n\n  mouseUp(t) {\n    this.useMouse(t, !1);\n  }\n\n  mouseMove(t) {\n    this.useMouse(t, this.active);\n  }\n\n}\n\nclass S {\n  constructor(t) {\n    this.fireworks = t, this.handleResize = this.handleResize.bind(this);\n  }\n\n  subscribe() {\n    h.autoresize && window.addEventListener(\"resize\", this.handleResize);\n  }\n\n  unsubscribe() {\n    h.autoresize && window.removeEventListener(\"resize\", this.handleResize);\n  }\n\n  handleResize() {\n    this.fireworks.updateSize();\n  }\n\n}\n\nclass C {\n  constructor() {\n    i(this, \"sounds\", []);\n    i(this, \"audioContext\");\n    i(this, \"onInit\", !1);\n    this.init();\n  }\n\n  init() {\n    !this.onInit && h.sound.enabled && (this.onInit = !0, this.audioContext = new (window.AudioContext || window.webkitAudioContext)(), this.loadSounds());\n  }\n\n  async loadSounds() {\n    for (const t of h.sound.files) {\n      const s = await (await fetch(t)).arrayBuffer();\n      this.audioContext.decodeAudioData(s).then(e => {\n        this.sounds.push(e);\n      }).catch(e => {\n        throw e;\n      });\n    }\n  }\n\n  play() {\n    if (h.sound.enabled && this.sounds.length) {\n      const t = this.audioContext.createBufferSource(),\n            s = this.sounds[r(0, this.sounds.length - 1)],\n            e = this.audioContext.createGain();\n      t.buffer = s, e.gain.value = d(h.sound.volume.min / 100, h.sound.volume.max / 100), e.connect(this.audioContext.destination), t.connect(e), t.start(0);\n    } else this.init();\n  }\n\n}\n\nclass k {\n  constructor(_ref2) {\n    let {\n      x: t,\n      y: s,\n      dx: e,\n      dy: o,\n      ctx: c,\n      hue: u,\n      speed: l,\n      traceLength: a,\n      acceleration: p\n    } = _ref2;\n    i(this, \"x\");\n    i(this, \"y\");\n    i(this, \"sx\");\n    i(this, \"sy\");\n    i(this, \"dx\");\n    i(this, \"dy\");\n    i(this, \"ctx\");\n    i(this, \"hue\");\n    i(this, \"speed\");\n    i(this, \"acceleration\");\n    i(this, \"traceLength\");\n    i(this, \"totalDistance\");\n    i(this, \"angle\");\n    i(this, \"brightness\");\n    i(this, \"coordinates\", []);\n    i(this, \"currentDistance\", 0);\n\n    for (this.x = t, this.y = s, this.sx = t, this.sy = s, this.dx = e, this.dy = o, this.ctx = c, this.hue = u, this.speed = l, this.traceLength = a, this.acceleration = p, this.totalDistance = f(t, s, e, o), this.angle = Math.atan2(o - s, e - t), this.brightness = r(50, 70); this.traceLength--;) this.coordinates.push([t, s]);\n  }\n\n  update(t) {\n    this.coordinates.pop(), this.coordinates.unshift([this.x, this.y]), this.speed *= this.acceleration;\n    const s = Math.cos(this.angle) * this.speed,\n          e = Math.sin(this.angle) * this.speed;\n    this.currentDistance = f(this.sx, this.sy, this.x + s, this.y + e), this.currentDistance >= this.totalDistance ? t(this.dx, this.dy, this.hue) : (this.x += s, this.y += e);\n  }\n\n  draw() {\n    const t = this.coordinates.length - 1;\n    this.ctx.beginPath(), this.ctx.moveTo(this.coordinates[t][0], this.coordinates[t][1]), this.ctx.lineTo(this.x, this.y), this.ctx.strokeStyle = g(this.hue, this.brightness), this.ctx.stroke();\n  }\n\n}\n\nclass T {\n  constructor(t) {\n    let s = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    i(this, \"container\");\n    i(this, \"canvas\");\n    i(this, \"ctx\");\n    i(this, \"width\");\n    i(this, \"height\");\n    i(this, \"tick\", 0);\n    i(this, \"timestamp\", performance.now());\n    i(this, \"running\", !1);\n    i(this, \"sound\");\n    i(this, \"resize\");\n    i(this, \"mouse\");\n    i(this, \"traces\", []);\n    i(this, \"explosions\", []);\n    this.container = t, t instanceof HTMLCanvasElement ? this.canvas = t : (this.canvas = document.createElement(\"canvas\"), this.container.appendChild(this.canvas)), this.ctx = this.canvas.getContext(\"2d\"), this.updateOptions(s), this.updateSize(), this.sound = new C(), this.resize = new S(this), this.mouse = new O(this.canvas);\n  }\n\n  get isRunning() {\n    return this.running;\n  }\n\n  get \"2.0.2\"() {\n    return \"2.0.2\";\n  }\n\n  start() {\n    this.running || (this.running = !0, this.resize.subscribe(), this.mouse.subscribe(), this.clear(), this.render());\n  }\n\n  stop() {\n    !this.running || (this.running = !1, this.resize.unsubscribe(), this.mouse.unsubscribe(), this.clear());\n  }\n\n  pause() {\n    this.running = !this.running, this.running && this.render();\n  }\n\n  clear() {\n    !this.ctx || (this.traces = [], this.explosions = [], this.ctx.clearRect(0, 0, this.width, this.height));\n  }\n\n  updateOptions(t) {\n    h.updateOptions(t);\n  }\n\n  updateSize() {\n    let {\n      width: t = this.container instanceof HTMLCanvasElement ? this.canvas.width : this.container.clientWidth,\n      height: s = this.container instanceof HTMLCanvasElement ? this.canvas.height : this.container.clientHeight\n    } = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    this.width = t, this.height = s, this.canvas.width = t, this.canvas.height = s, this.updateBoundaries({ ...h.boundaries,\n      width: t,\n      height: s\n    });\n  }\n\n  updateBoundaries(t) {\n    this.updateOptions({\n      boundaries: t\n    });\n  }\n\n  render() {\n    let t = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.timestamp;\n    if (!this.ctx || !this.running) return;\n    requestAnimationFrame(e => this.render(e)), this.ctx.globalCompositeOperation = \"destination-out\", this.ctx.fillStyle = `rgba(0, 0, 0, ${h.opacity})`, this.ctx.fillRect(0, 0, this.width, this.height), this.ctx.globalCompositeOperation = \"lighter\", this.ctx.lineCap = h.lineStyle, this.ctx.lineJoin = \"round\", this.initTrace(), this.drawTrace(), this.drawExplosion();\n    const s = t - this.timestamp;\n    this.timestamp = t, this.tick += s * (h.intensity * Math.PI) / 1e3;\n  }\n\n  initTrace() {\n    const {\n      hue: t,\n      delay: s,\n      rocketsPoint: e,\n      boundaries: o,\n      trace: c,\n      traceSpeed: u,\n      acceleration: l,\n      mouse: a\n    } = h;\n    (this.tick > r(s.min, s.max) || this.mouse.active && a.max > this.traces.length) && (this.traces.push(new k({\n      x: this.width * r(e.min, e.max) / 100,\n      y: this.height,\n      dx: this.mouse.x && a.move || this.mouse.active ? this.mouse.x : r(o.x, o.width - o.x * 2),\n      dy: this.mouse.y && a.move || this.mouse.active ? this.mouse.y : r(o.y, o.height * 0.5),\n      ctx: this.ctx,\n      hue: r(t.min, t.max),\n      speed: u,\n      acceleration: l,\n      traceLength: c\n    })), this.tick = 0);\n  }\n\n  drawTrace() {\n    this.ctx.lineWidth = d(h.lineWidth.trace.min, h.lineWidth.trace.max);\n    let t = this.traces.length;\n\n    for (; t--;) this.traces[t].draw(), this.traces[t].update((s, e, o) => {\n      this.initExplosion(s, e, o), this.sound.play(), this.traces.splice(t, 1);\n    });\n  }\n\n  initExplosion(t, s, e) {\n    const {\n      particles: o,\n      flickering: c,\n      lineWidth: u,\n      explosion: l,\n      brightness: a,\n      friction: p,\n      gravity: x,\n      decay: m\n    } = h;\n    let y = o;\n\n    for (; y--;) this.explosions.push(new L({\n      x: t,\n      y: s,\n      ctx: this.ctx,\n      hue: e,\n      friction: p,\n      gravity: x,\n      flickering: r(0, 100) <= c,\n      lineWidth: d(u.explosion.min, u.explosion.max),\n      explosionLength: Math.round(l),\n      brightness: a,\n      decay: m\n    }));\n  }\n\n  drawExplosion() {\n    let t = this.explosions.length;\n\n    for (; t--;) this.explosions[t].draw(), this.explosions[t].update(() => {\n      this.explosions.splice(t, 1);\n    });\n  }\n\n}\n\nexport { T as Fireworks, T as default };","map":{"version":3,"names":["b","Object","defineProperty","E","n","t","s","enumerable","configurable","writable","value","i","d","Math","random","r","floor","f","e","o","pow","sqrt","g","Error","v","getPrototypeOf","prototype","toString","call","M","w","reduce","keys","forEach","includes","Array","isArray","L","constructor","x","y","ctx","hue","decay","c","gravity","u","friction","l","brightness","a","flickering","p","lineWidth","explosionLength","m","angle","PI","speed","min","max","coordinates","push","update","pop","unshift","cos","sin","alpha","draw","length","beginPath","fillStyle","moveTo","lineTo","strokeStyle","stroke","z","autoresize","lineStyle","trace","traceSpeed","intensity","explosion","opacity","particles","acceleration","rocketsPoint","mouse","click","move","delay","sound","enabled","files","volume","boundaries","height","width","updateOptions","assign","h","O","canvas","mouseDown","bind","mouseUp","mouseMove","subscribe","addEventListener","unsubscribe","removeEventListener","useMouse","pageX","offsetLeft","pageY","offsetTop","active","S","fireworks","handleResize","window","updateSize","C","init","onInit","audioContext","AudioContext","webkitAudioContext","loadSounds","fetch","arrayBuffer","decodeAudioData","then","sounds","catch","play","createBufferSource","createGain","buffer","gain","connect","destination","start","k","dx","dy","traceLength","sx","sy","totalDistance","atan2","currentDistance","T","performance","now","container","HTMLCanvasElement","document","createElement","appendChild","getContext","resize","isRunning","running","clear","render","stop","pause","traces","explosions","clearRect","clientWidth","clientHeight","updateBoundaries","timestamp","requestAnimationFrame","globalCompositeOperation","fillRect","lineCap","lineJoin","initTrace","drawTrace","drawExplosion","tick","initExplosion","splice","round","Fireworks","default"],"sources":["/Users/andrew/Documents/toLearned/node_modules/fireworks-js/dist/index.es.js"],"sourcesContent":["/**\n * name: fireworks-js\n * version: 2.0.2\n * author: Vitalij Ryndin (https://crashmax.ru)\n * homepage: https://fireworks.js.org\n * license MIT\n */\nvar b = Object.defineProperty;\nvar E = (n, t, s) => t in n ? b(n, t, { enumerable: !0, configurable: !0, writable: !0, value: s }) : n[t] = s;\nvar i = (n, t, s) => (E(n, typeof t != \"symbol\" ? t + \"\" : t, s), s);\nfunction d(n, t) {\n  return Math.random() * (t - n) + n;\n}\nfunction r(n, t) {\n  return Math.floor(d(n, t + 1));\n}\nfunction f(n, t, s, e) {\n  const o = Math.pow;\n  return Math.sqrt(o(n - s, 2) + o(t - e, 2));\n}\nfunction g(n, t, s = 1) {\n  if (n > 360 || n < 0)\n    throw new Error(`Expected hue 0-360 range, got \\`${n}\\``);\n  if (t > 100 || t < 0)\n    throw new Error(`Expected lightness 0-100 range, got \\`${t}\\``);\n  if (s > 1 || s < 0)\n    throw new Error(`Expected alpha 0-1 range, got \\`${s}\\``);\n  return `hsla(${n}, 100%, ${t}%, ${s})`;\n}\nconst v = (n) => {\n  if (typeof n == \"object\" && n !== null) {\n    if (typeof Object.getPrototypeOf == \"function\") {\n      const t = Object.getPrototypeOf(n);\n      return t === Object.prototype || t === null;\n    }\n    return Object.prototype.toString.call(n) === \"[object Object]\";\n  }\n  return !1;\n}, M = [\n  \"__proto__\",\n  \"constructor\",\n  \"prototype\"\n], w = (...n) => n.reduce((t, s) => (Object.keys(s).forEach((e) => {\n  M.includes(e) || (Array.isArray(t[e]) && Array.isArray(s[e]) ? t[e] = s[e] : v(t[e]) && v(s[e]) ? t[e] = w(t[e], s[e]) : t[e] = s[e]);\n}), t), {});\nclass L {\n  constructor({\n    x: t,\n    y: s,\n    ctx: e,\n    hue: o,\n    decay: c,\n    gravity: u,\n    friction: l,\n    brightness: a,\n    flickering: p,\n    lineWidth: x,\n    explosionLength: m\n  }) {\n    i(this, \"x\");\n    i(this, \"y\");\n    i(this, \"ctx\");\n    i(this, \"hue\");\n    i(this, \"friction\");\n    i(this, \"gravity\");\n    i(this, \"flickering\");\n    i(this, \"lineWidth\");\n    i(this, \"explosionLength\");\n    i(this, \"angle\");\n    i(this, \"speed\");\n    i(this, \"brightness\");\n    i(this, \"coordinates\", []);\n    i(this, \"decay\");\n    i(this, \"alpha\", 1);\n    for (this.x = t, this.y = s, this.ctx = e, this.hue = o, this.gravity = u, this.friction = l, this.flickering = p, this.lineWidth = x, this.explosionLength = m, this.angle = d(0, Math.PI * 2), this.speed = r(1, 10), this.brightness = r(a.min, a.max), this.decay = d(c.min, c.max); this.explosionLength--; )\n      this.coordinates.push([t, s]);\n  }\n  update(t) {\n    this.coordinates.pop(), this.coordinates.unshift([this.x, this.y]), this.speed *= this.friction, this.x += Math.cos(this.angle) * this.speed, this.y += Math.sin(this.angle) * this.speed + this.gravity, this.alpha -= this.decay, this.alpha <= this.decay && t();\n  }\n  draw() {\n    const t = this.coordinates.length - 1;\n    this.ctx.beginPath(), this.ctx.lineWidth = this.lineWidth, this.ctx.fillStyle = g(this.hue, this.brightness, this.alpha), this.ctx.moveTo(\n      this.coordinates[t][0],\n      this.coordinates[t][1]\n    ), this.ctx.lineTo(this.x, this.y), this.ctx.strokeStyle = g(\n      this.hue,\n      this.flickering ? d(0, this.brightness) : this.brightness,\n      this.alpha\n    ), this.ctx.stroke();\n  }\n}\nclass z {\n  constructor() {\n    i(this, \"hue\");\n    i(this, \"rocketsPoint\");\n    i(this, \"opacity\");\n    i(this, \"acceleration\");\n    i(this, \"friction\");\n    i(this, \"gravity\");\n    i(this, \"particles\");\n    i(this, \"trace\");\n    i(this, \"explosion\");\n    i(this, \"mouse\");\n    i(this, \"boundaries\");\n    i(this, \"sound\");\n    i(this, \"delay\");\n    i(this, \"brightness\");\n    i(this, \"decay\");\n    i(this, \"flickering\");\n    i(this, \"intensity\");\n    i(this, \"traceSpeed\");\n    i(this, \"lineWidth\");\n    i(this, \"lineStyle\");\n    i(this, \"autoresize\");\n    this.autoresize = !0, this.lineStyle = \"round\", this.flickering = 50, this.trace = 3, this.traceSpeed = 10, this.intensity = 30, this.explosion = 5, this.gravity = 1.5, this.opacity = 0.5, this.particles = 50, this.friction = 0.95, this.acceleration = 1.05, this.hue = {\n      min: 0,\n      max: 360\n    }, this.rocketsPoint = {\n      min: 50,\n      max: 50\n    }, this.lineWidth = {\n      explosion: {\n        min: 1,\n        max: 3\n      },\n      trace: {\n        min: 1,\n        max: 2\n      }\n    }, this.mouse = {\n      click: !1,\n      move: !1,\n      max: 1\n    }, this.delay = {\n      min: 15,\n      max: 30\n    }, this.brightness = {\n      min: 50,\n      max: 80\n    }, this.decay = {\n      min: 0.015,\n      max: 0.03\n    }, this.sound = {\n      enabled: !1,\n      files: [\n        \"explosion0.mp3\",\n        \"explosion1.mp3\",\n        \"explosion2.mp3\"\n      ],\n      volume: {\n        min: 4,\n        max: 8\n      }\n    }, this.boundaries = {\n      height: 0,\n      width: 0,\n      x: 50,\n      y: 50\n    };\n  }\n  updateOptions(t) {\n    Object.assign(this, w(this, t));\n  }\n}\nconst h = new z();\nclass O {\n  constructor(t) {\n    i(this, \"active\", !1);\n    i(this, \"x\");\n    i(this, \"y\");\n    this.canvas = t, this.mouseDown = this.mouseDown.bind(this), this.mouseUp = this.mouseUp.bind(this), this.mouseMove = this.mouseMove.bind(this);\n  }\n  subscribe() {\n    this.canvas.addEventListener(\"mousedown\", this.mouseDown), this.canvas.addEventListener(\"mouseup\", this.mouseUp), this.canvas.addEventListener(\"mousemove\", this.mouseMove);\n  }\n  unsubscribe() {\n    this.canvas.removeEventListener(\"mousedown\", this.mouseDown), this.canvas.removeEventListener(\"mouseup\", this.mouseUp), this.canvas.removeEventListener(\"mousemove\", this.mouseMove);\n  }\n  useMouse(t, s) {\n    (h.mouse.click || h.mouse.move) && (this.x = t.pageX - this.canvas.offsetLeft, this.y = t.pageY - this.canvas.offsetTop, this.active = s);\n  }\n  mouseDown(t) {\n    this.useMouse(t, h.mouse.click);\n  }\n  mouseUp(t) {\n    this.useMouse(t, !1);\n  }\n  mouseMove(t) {\n    this.useMouse(t, this.active);\n  }\n}\nclass S {\n  constructor(t) {\n    this.fireworks = t, this.handleResize = this.handleResize.bind(this);\n  }\n  subscribe() {\n    h.autoresize && window.addEventListener(\"resize\", this.handleResize);\n  }\n  unsubscribe() {\n    h.autoresize && window.removeEventListener(\"resize\", this.handleResize);\n  }\n  handleResize() {\n    this.fireworks.updateSize();\n  }\n}\nclass C {\n  constructor() {\n    i(this, \"sounds\", []);\n    i(this, \"audioContext\");\n    i(this, \"onInit\", !1);\n    this.init();\n  }\n  init() {\n    !this.onInit && h.sound.enabled && (this.onInit = !0, this.audioContext = new (window.AudioContext || window.webkitAudioContext)(), this.loadSounds());\n  }\n  async loadSounds() {\n    for (const t of h.sound.files) {\n      const s = await (await fetch(t)).arrayBuffer();\n      this.audioContext.decodeAudioData(s).then((e) => {\n        this.sounds.push(e);\n      }).catch((e) => {\n        throw e;\n      });\n    }\n  }\n  play() {\n    if (h.sound.enabled && this.sounds.length) {\n      const t = this.audioContext.createBufferSource(), s = this.sounds[r(0, this.sounds.length - 1)], e = this.audioContext.createGain();\n      t.buffer = s, e.gain.value = d(\n        h.sound.volume.min / 100,\n        h.sound.volume.max / 100\n      ), e.connect(this.audioContext.destination), t.connect(e), t.start(0);\n    } else\n      this.init();\n  }\n}\nclass k {\n  constructor({\n    x: t,\n    y: s,\n    dx: e,\n    dy: o,\n    ctx: c,\n    hue: u,\n    speed: l,\n    traceLength: a,\n    acceleration: p\n  }) {\n    i(this, \"x\");\n    i(this, \"y\");\n    i(this, \"sx\");\n    i(this, \"sy\");\n    i(this, \"dx\");\n    i(this, \"dy\");\n    i(this, \"ctx\");\n    i(this, \"hue\");\n    i(this, \"speed\");\n    i(this, \"acceleration\");\n    i(this, \"traceLength\");\n    i(this, \"totalDistance\");\n    i(this, \"angle\");\n    i(this, \"brightness\");\n    i(this, \"coordinates\", []);\n    i(this, \"currentDistance\", 0);\n    for (this.x = t, this.y = s, this.sx = t, this.sy = s, this.dx = e, this.dy = o, this.ctx = c, this.hue = u, this.speed = l, this.traceLength = a, this.acceleration = p, this.totalDistance = f(t, s, e, o), this.angle = Math.atan2(o - s, e - t), this.brightness = r(50, 70); this.traceLength--; )\n      this.coordinates.push([t, s]);\n  }\n  update(t) {\n    this.coordinates.pop(), this.coordinates.unshift([this.x, this.y]), this.speed *= this.acceleration;\n    const s = Math.cos(this.angle) * this.speed, e = Math.sin(this.angle) * this.speed;\n    this.currentDistance = f(\n      this.sx,\n      this.sy,\n      this.x + s,\n      this.y + e\n    ), this.currentDistance >= this.totalDistance ? t(this.dx, this.dy, this.hue) : (this.x += s, this.y += e);\n  }\n  draw() {\n    const t = this.coordinates.length - 1;\n    this.ctx.beginPath(), this.ctx.moveTo(\n      this.coordinates[t][0],\n      this.coordinates[t][1]\n    ), this.ctx.lineTo(this.x, this.y), this.ctx.strokeStyle = g(this.hue, this.brightness), this.ctx.stroke();\n  }\n}\nclass T {\n  constructor(t, s = {}) {\n    i(this, \"container\");\n    i(this, \"canvas\");\n    i(this, \"ctx\");\n    i(this, \"width\");\n    i(this, \"height\");\n    i(this, \"tick\", 0);\n    i(this, \"timestamp\", performance.now());\n    i(this, \"running\", !1);\n    i(this, \"sound\");\n    i(this, \"resize\");\n    i(this, \"mouse\");\n    i(this, \"traces\", []);\n    i(this, \"explosions\", []);\n    this.container = t, t instanceof HTMLCanvasElement ? this.canvas = t : (this.canvas = document.createElement(\"canvas\"), this.container.appendChild(this.canvas)), this.ctx = this.canvas.getContext(\"2d\"), this.updateOptions(s), this.updateSize(), this.sound = new C(), this.resize = new S(this), this.mouse = new O(this.canvas);\n  }\n  get isRunning() {\n    return this.running;\n  }\n  get \"2.0.2\"() {\n    return \"2.0.2\";\n  }\n  start() {\n    this.running || (this.running = !0, this.resize.subscribe(), this.mouse.subscribe(), this.clear(), this.render());\n  }\n  stop() {\n    !this.running || (this.running = !1, this.resize.unsubscribe(), this.mouse.unsubscribe(), this.clear());\n  }\n  pause() {\n    this.running = !this.running, this.running && this.render();\n  }\n  clear() {\n    !this.ctx || (this.traces = [], this.explosions = [], this.ctx.clearRect(0, 0, this.width, this.height));\n  }\n  updateOptions(t) {\n    h.updateOptions(t);\n  }\n  updateSize({\n    width: t = this.container instanceof HTMLCanvasElement ? this.canvas.width : this.container.clientWidth,\n    height: s = this.container instanceof HTMLCanvasElement ? this.canvas.height : this.container.clientHeight\n  } = {}) {\n    this.width = t, this.height = s, this.canvas.width = t, this.canvas.height = s, this.updateBoundaries({\n      ...h.boundaries,\n      width: t,\n      height: s\n    });\n  }\n  updateBoundaries(t) {\n    this.updateOptions({ boundaries: t });\n  }\n  render(t = this.timestamp) {\n    if (!this.ctx || !this.running)\n      return;\n    requestAnimationFrame((e) => this.render(e)), this.ctx.globalCompositeOperation = \"destination-out\", this.ctx.fillStyle = `rgba(0, 0, 0, ${h.opacity})`, this.ctx.fillRect(0, 0, this.width, this.height), this.ctx.globalCompositeOperation = \"lighter\", this.ctx.lineCap = h.lineStyle, this.ctx.lineJoin = \"round\", this.initTrace(), this.drawTrace(), this.drawExplosion();\n    const s = t - this.timestamp;\n    this.timestamp = t, this.tick += s * (h.intensity * Math.PI) / 1e3;\n  }\n  initTrace() {\n    const {\n      hue: t,\n      delay: s,\n      rocketsPoint: e,\n      boundaries: o,\n      trace: c,\n      traceSpeed: u,\n      acceleration: l,\n      mouse: a\n    } = h;\n    (this.tick > r(s.min, s.max) || this.mouse.active && a.max > this.traces.length) && (this.traces.push(\n      new k({\n        x: this.width * r(e.min, e.max) / 100,\n        y: this.height,\n        dx: this.mouse.x && a.move || this.mouse.active ? this.mouse.x : r(o.x, o.width - o.x * 2),\n        dy: this.mouse.y && a.move || this.mouse.active ? this.mouse.y : r(o.y, o.height * 0.5),\n        ctx: this.ctx,\n        hue: r(t.min, t.max),\n        speed: u,\n        acceleration: l,\n        traceLength: c\n      })\n    ), this.tick = 0);\n  }\n  drawTrace() {\n    this.ctx.lineWidth = d(\n      h.lineWidth.trace.min,\n      h.lineWidth.trace.max\n    );\n    let t = this.traces.length;\n    for (; t--; )\n      this.traces[t].draw(), this.traces[t].update((s, e, o) => {\n        this.initExplosion(s, e, o), this.sound.play(), this.traces.splice(t, 1);\n      });\n  }\n  initExplosion(t, s, e) {\n    const {\n      particles: o,\n      flickering: c,\n      lineWidth: u,\n      explosion: l,\n      brightness: a,\n      friction: p,\n      gravity: x,\n      decay: m\n    } = h;\n    let y = o;\n    for (; y--; )\n      this.explosions.push(\n        new L({\n          x: t,\n          y: s,\n          ctx: this.ctx,\n          hue: e,\n          friction: p,\n          gravity: x,\n          flickering: r(0, 100) <= c,\n          lineWidth: d(\n            u.explosion.min,\n            u.explosion.max\n          ),\n          explosionLength: Math.round(l),\n          brightness: a,\n          decay: m\n        })\n      );\n  }\n  drawExplosion() {\n    let t = this.explosions.length;\n    for (; t--; )\n      this.explosions[t].draw(), this.explosions[t].update(() => {\n        this.explosions.splice(t, 1);\n      });\n  }\n}\nexport {\n  T as Fireworks,\n  T as default\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}