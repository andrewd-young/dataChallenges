{"ast":null,"code":"/**\n * name: fireworks-js\n * version: 2.0.0\n * author: Vitalij Ryndin (https://crashmax.ru)\n * homepage: https://fireworks.js.org\n * license MIT\n */\nfunction l(e, t) {\n  return Math.random() * (t - e) + e;\n}\n\nfunction a(e, t) {\n  return Math.floor(l(e, t + 1));\n}\n\nfunction f(e, t, i, s) {\n  const h = Math.pow;\n  return Math.sqrt(h(e - i, 2) + h(t - s, 2));\n}\n\nfunction x(e, t) {\n  let i = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 1;\n  if (e > 360 || e < 0) throw new Error(`Expected hue 0-360 range, got \\`${e}\\``);\n  if (t > 100 || t < 0) throw new Error(`Expected lightness 0-100 range, got \\`${t}\\``);\n  if (i > 1 || i < 0) throw new Error(`Expected alpha 0-1 range, got \\`${i}\\``);\n  return `hsla(${e}, 100%, ${t}%, ${i})`;\n}\n\nconst g = e => {\n  if (typeof e == \"object\" && e !== null) {\n    if (typeof Object.getPrototypeOf == \"function\") {\n      const t = Object.getPrototypeOf(e);\n      return t === Object.prototype || t === null;\n    }\n\n    return Object.prototype.toString.call(e) === \"[object Object]\";\n  }\n\n  return !1;\n},\n      b = [\"__proto__\", \"constructor\", \"prototype\"],\n      v = function () {\n  for (var _len = arguments.length, e = new Array(_len), _key = 0; _key < _len; _key++) {\n    e[_key] = arguments[_key];\n  }\n\n  return e.reduce((t, i) => (Object.keys(i).forEach(s => {\n    b.includes(s) || (Array.isArray(t[s]) && Array.isArray(i[s]) ? t[s] = i[s] : g(t[s]) && g(i[s]) ? t[s] = v(t[s], i[s]) : t[s] = i[s]);\n  }), t), {});\n};\n\nclass y {\n  constructor(_ref) {\n    let {\n      x: t,\n      y: i,\n      ctx: s,\n      hue: h,\n      decay: r,\n      gravity: c,\n      friction: u,\n      brightness: o,\n      flickering: d,\n      lineWidth: p,\n      explosionLength: m\n    } = _ref;\n\n    for (this.coordinates = [], this.alpha = 1, this.x = t, this.y = i, this.ctx = s, this.hue = h, this.gravity = c, this.friction = u, this.flickering = d, this.lineWidth = p, this.explosionLength = m, this.angle = l(0, Math.PI * 2), this.speed = a(1, 10), this.brightness = a(o.min, o.max), this.decay = l(r.min, r.max); this.explosionLength--;) this.coordinates.push([t, i]);\n  }\n\n  update(t) {\n    this.coordinates.pop(), this.coordinates.unshift([this.x, this.y]), this.speed *= this.friction, this.x += Math.cos(this.angle) * this.speed, this.y += Math.sin(this.angle) * this.speed + this.gravity, this.alpha -= this.decay, this.alpha <= this.decay && t();\n  }\n\n  draw() {\n    const t = this.coordinates.length - 1;\n    this.ctx.beginPath(), this.ctx.lineWidth = this.lineWidth, this.ctx.fillStyle = x(this.hue, this.brightness, this.alpha), this.ctx.moveTo(this.coordinates[t][0], this.coordinates[t][1]), this.ctx.lineTo(this.x, this.y), this.ctx.strokeStyle = x(this.hue, this.flickering ? l(0, this.brightness) : this.brightness, this.alpha), this.ctx.stroke();\n  }\n\n}\n\nclass E {\n  constructor() {\n    this.autoresize = !0, this.lineStyle = \"round\", this.flickering = 50, this.trace = 3, this.traceSpeed = 10, this.intensity = 30, this.explosion = 5, this.gravity = 1.5, this.opacity = 0.5, this.particles = 50, this.friction = 0.95, this.acceleration = 1.05, this.hue = {\n      min: 0,\n      max: 360\n    }, this.rocketsPoint = {\n      min: 50,\n      max: 50\n    }, this.lineWidth = {\n      explosion: {\n        min: 1,\n        max: 3\n      },\n      trace: {\n        min: 1,\n        max: 2\n      }\n    }, this.mouse = {\n      click: !1,\n      move: !1,\n      max: 1\n    }, this.delay = {\n      min: 15,\n      max: 30\n    }, this.brightness = {\n      min: 50,\n      max: 80\n    }, this.decay = {\n      min: 0.015,\n      max: 0.03\n    }, this.sound = {\n      enabled: !1,\n      files: [\"explosion0.mp3\", \"explosion1.mp3\", \"explosion2.mp3\"],\n      volume: {\n        min: 4,\n        max: 8\n      }\n    }, this.boundaries = {\n      height: 0,\n      width: 0,\n      x: 50,\n      y: 50\n    };\n  }\n\n  updateOptions(t) {\n    Object.assign(this, v(this, t));\n  }\n\n}\n\nconst n = new E();\n\nclass M {\n  constructor(t) {\n    this.canvas = t, this.active = !1;\n  }\n\n  subscribe() {\n    this.canvas.addEventListener(\"mousedown\", t => this.mouseDown(t)), this.canvas.addEventListener(\"mouseup\", t => this.mouseUp(t)), this.canvas.addEventListener(\"mousemove\", t => this.mouseMove(t));\n  }\n\n  unsubscribe() {\n    this.canvas.removeEventListener(\"mousedown\", this.mouseDown), this.canvas.removeEventListener(\"mouseup\", this.mouseUp), this.canvas.removeEventListener(\"mousemove\", this.mouseMove);\n  }\n\n  useMouse(t, i) {\n    (n.mouse.click || n.mouse.move) && (this.x = t.pageX - this.canvas.offsetLeft, this.y = t.pageY - this.canvas.offsetTop, this.active = i);\n  }\n\n  mouseDown(t) {\n    this.useMouse(t, n.mouse.click);\n  }\n\n  mouseUp(t) {\n    this.useMouse(t, !1);\n  }\n\n  mouseMove(t) {\n    this.useMouse(t, this.active);\n  }\n\n}\n\nclass L {\n  constructor(t) {\n    this.fireworks = t;\n  }\n\n  subscribe() {\n    n.autoresize && window.addEventListener(\"resize\", () => this.bindResize());\n  }\n\n  unsubscribe() {\n    n.autoresize && window.removeEventListener(\"resize\", this.bindResize);\n  }\n\n  bindResize() {\n    this.fireworks.updateSize();\n  }\n\n}\n\nclass O {\n  constructor() {\n    this.sounds = [], this.onInit = !1, this.init();\n  }\n\n  init() {\n    !this.onInit && n.sound.enabled && (this.onInit = !0, this.audioContext = new (window.AudioContext || window.webkitAudioContext)(), this.loadSounds());\n  }\n\n  async loadSounds() {\n    for (const t of n.sound.files) {\n      const i = await (await fetch(t)).arrayBuffer();\n      this.audioContext.decodeAudioData(i).then(s => {\n        this.sounds.push(s);\n      }).catch(s => {\n        throw s;\n      });\n    }\n  }\n\n  play() {\n    if (n.sound.enabled && this.sounds.length) {\n      const t = this.audioContext.createBufferSource(),\n            i = this.sounds[a(0, this.sounds.length - 1)],\n            s = this.audioContext.createGain();\n      t.buffer = i, s.gain.value = l(n.sound.volume.min / 100, n.sound.volume.max / 100), s.connect(this.audioContext.destination), t.connect(s), t.start(0);\n    } else this.init();\n  }\n\n}\n\nclass S {\n  constructor(_ref2) {\n    let {\n      x: t,\n      y: i,\n      dx: s,\n      dy: h,\n      ctx: r,\n      hue: c,\n      speed: u,\n      traceLength: o,\n      acceleration: d\n    } = _ref2;\n\n    for (this.coordinates = [], this.currentDistance = 0, this.x = t, this.y = i, this.sx = t, this.sy = i, this.dx = s, this.dy = h, this.ctx = r, this.hue = c, this.speed = u, this.traceLength = o, this.acceleration = d, this.totalDistance = f(t, i, s, h), this.angle = Math.atan2(h - i, s - t), this.brightness = a(50, 70); this.traceLength--;) this.coordinates.push([t, i]);\n  }\n\n  update(t) {\n    this.coordinates.pop(), this.coordinates.unshift([this.x, this.y]), this.speed *= this.acceleration;\n    const i = Math.cos(this.angle) * this.speed,\n          s = Math.sin(this.angle) * this.speed;\n    this.currentDistance = f(this.sx, this.sy, this.x + i, this.y + s), this.currentDistance >= this.totalDistance ? t(this.dx, this.dy, this.hue) : (this.x += i, this.y += s);\n  }\n\n  draw() {\n    const t = this.coordinates.length - 1;\n    this.ctx.beginPath(), this.ctx.moveTo(this.coordinates[t][0], this.coordinates[t][1]), this.ctx.lineTo(this.x, this.y), this.ctx.strokeStyle = x(this.hue, this.brightness), this.ctx.stroke();\n  }\n\n}\n\nclass C {\n  constructor(t) {\n    let i = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    this.tick = 0, this.timestamp = performance.now(), this.running = !1, this.traces = [], this.explosions = [], this.container = t, t instanceof HTMLCanvasElement ? this.canvas = t : (this.canvas = document.createElement(\"canvas\"), this.container.appendChild(this.canvas)), this.ctx = this.canvas.getContext(\"2d\"), this.updateOptions(i), this.updateSize(), this.sound = new O(), this.resize = new L(this), this.mouse = new M(this.canvas);\n  }\n\n  get isRunning() {\n    return this.running;\n  }\n\n  get \"2.0.0\"() {\n    return \"2.0.0\";\n  }\n\n  start() {\n    this.running || (this.running = !0, this.resize.subscribe(), this.mouse.subscribe(), this.clear(), this.render());\n  }\n\n  stop() {\n    !this.running || (this.running = !1, this.resize.unsubscribe(), this.mouse.unsubscribe(), this.clear());\n  }\n\n  pause() {\n    this.running = !this.running, this.running && this.render();\n  }\n\n  clear() {\n    !this.ctx || (this.traces = [], this.explosions = [], this.ctx.clearRect(0, 0, this.width, this.height));\n  }\n\n  updateOptions(t) {\n    n.updateOptions(t);\n  }\n\n  updateSize() {\n    let {\n      width: t = this.container instanceof HTMLCanvasElement ? this.canvas.width : this.container.clientWidth,\n      height: i = this.container instanceof HTMLCanvasElement ? this.canvas.height : this.container.clientHeight\n    } = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    this.width = t, this.height = i, this.canvas.width = t, this.canvas.height = i, this.updateBoundaries({ ...n.boundaries,\n      width: t,\n      height: i\n    });\n  }\n\n  updateBoundaries(t) {\n    this.updateOptions({\n      boundaries: t\n    });\n  }\n\n  render() {\n    let t = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.timestamp;\n    if (!this.ctx || !this.running) return;\n    requestAnimationFrame(s => this.render(s)), this.ctx.globalCompositeOperation = \"destination-out\", this.ctx.fillStyle = `rgba(0, 0, 0, ${n.opacity})`, this.ctx.fillRect(0, 0, this.width, this.height), this.ctx.globalCompositeOperation = \"lighter\", this.ctx.lineCap = n.lineStyle, this.ctx.lineJoin = \"round\", this.initTrace(), this.drawTrace(), this.drawExplosion();\n    const i = t - this.timestamp;\n    this.timestamp = t, this.tick += i * (n.intensity * Math.PI) / 1e3;\n  }\n\n  initTrace() {\n    const {\n      hue: t,\n      delay: i,\n      rocketsPoint: s,\n      boundaries: h,\n      trace: r,\n      traceSpeed: c,\n      acceleration: u,\n      mouse: o\n    } = n;\n    (this.tick > a(i.min, i.max) || this.mouse.active && o.max > this.traces.length) && (this.traces.push(new S({\n      x: this.width * a(s.min, s.max) / 100,\n      y: this.height,\n      dx: this.mouse.x && o.move || this.mouse.active ? this.mouse.x : a(h.x, h.width - h.x * 2),\n      dy: this.mouse.y && o.move || this.mouse.active ? this.mouse.y : a(h.y, h.height * 0.5),\n      ctx: this.ctx,\n      hue: a(t.min, t.max),\n      speed: c,\n      acceleration: u,\n      traceLength: r\n    })), this.tick = 0);\n  }\n\n  drawTrace() {\n    this.ctx.lineWidth = l(n.lineWidth.trace.min, n.lineWidth.trace.max);\n    let t = this.traces.length;\n\n    for (; t--;) this.traces[t].draw(), this.traces[t].update((i, s, h) => {\n      this.initExplosion(i, s, h), this.sound.play(), this.traces.splice(t, 1);\n    });\n  }\n\n  initExplosion(t, i, s) {\n    const {\n      particles: h,\n      flickering: r,\n      lineWidth: c,\n      explosion: u,\n      brightness: o,\n      friction: d,\n      gravity: p,\n      decay: m\n    } = n;\n    let w = h;\n\n    for (; w--;) this.explosions.push(new y({\n      x: t,\n      y: i,\n      ctx: this.ctx,\n      hue: s,\n      friction: d,\n      gravity: p,\n      flickering: a(0, 100) <= r,\n      lineWidth: l(c.explosion.min, c.explosion.max),\n      explosionLength: Math.round(u),\n      brightness: o,\n      decay: m\n    }));\n  }\n\n  drawExplosion() {\n    let t = this.explosions.length;\n\n    for (; t--;) this.explosions[t].draw(), this.explosions[t].update(() => {\n      this.explosions.splice(t, 1);\n    });\n  }\n\n}\n\nexport { C as Fireworks, C as default };","map":{"version":3,"names":["l","e","t","Math","random","a","floor","f","i","s","h","pow","sqrt","x","Error","g","Object","getPrototypeOf","prototype","toString","call","b","v","reduce","keys","forEach","includes","Array","isArray","y","constructor","ctx","hue","decay","r","gravity","c","friction","u","brightness","o","flickering","d","lineWidth","p","explosionLength","m","coordinates","alpha","angle","PI","speed","min","max","push","update","pop","unshift","cos","sin","draw","length","beginPath","fillStyle","moveTo","lineTo","strokeStyle","stroke","E","autoresize","lineStyle","trace","traceSpeed","intensity","explosion","opacity","particles","acceleration","rocketsPoint","mouse","click","move","delay","sound","enabled","files","volume","boundaries","height","width","updateOptions","assign","n","M","canvas","active","subscribe","addEventListener","mouseDown","mouseUp","mouseMove","unsubscribe","removeEventListener","useMouse","pageX","offsetLeft","pageY","offsetTop","L","fireworks","window","bindResize","updateSize","O","sounds","onInit","init","audioContext","AudioContext","webkitAudioContext","loadSounds","fetch","arrayBuffer","decodeAudioData","then","catch","play","createBufferSource","createGain","buffer","gain","value","connect","destination","start","S","dx","dy","traceLength","currentDistance","sx","sy","totalDistance","atan2","C","tick","timestamp","performance","now","running","traces","explosions","container","HTMLCanvasElement","document","createElement","appendChild","getContext","resize","isRunning","clear","render","stop","pause","clearRect","clientWidth","clientHeight","updateBoundaries","requestAnimationFrame","globalCompositeOperation","fillRect","lineCap","lineJoin","initTrace","drawTrace","drawExplosion","initExplosion","splice","w","round","Fireworks","default"],"sources":["/Users/andrew/Documents/toLearned/node_modules/fireworks-js/dist/index.es.js"],"sourcesContent":["/**\n * name: fireworks-js\n * version: 2.0.0\n * author: Vitalij Ryndin (https://crashmax.ru)\n * homepage: https://fireworks.js.org\n * license MIT\n */\nfunction l(e, t) {\n  return Math.random() * (t - e) + e;\n}\nfunction a(e, t) {\n  return Math.floor(l(e, t + 1));\n}\nfunction f(e, t, i, s) {\n  const h = Math.pow;\n  return Math.sqrt(h(e - i, 2) + h(t - s, 2));\n}\nfunction x(e, t, i = 1) {\n  if (e > 360 || e < 0)\n    throw new Error(`Expected hue 0-360 range, got \\`${e}\\``);\n  if (t > 100 || t < 0)\n    throw new Error(`Expected lightness 0-100 range, got \\`${t}\\``);\n  if (i > 1 || i < 0)\n    throw new Error(`Expected alpha 0-1 range, got \\`${i}\\``);\n  return `hsla(${e}, 100%, ${t}%, ${i})`;\n}\nconst g = (e) => {\n  if (typeof e == \"object\" && e !== null) {\n    if (typeof Object.getPrototypeOf == \"function\") {\n      const t = Object.getPrototypeOf(e);\n      return t === Object.prototype || t === null;\n    }\n    return Object.prototype.toString.call(e) === \"[object Object]\";\n  }\n  return !1;\n}, b = [\n  \"__proto__\",\n  \"constructor\",\n  \"prototype\"\n], v = (...e) => e.reduce((t, i) => (Object.keys(i).forEach((s) => {\n  b.includes(s) || (Array.isArray(t[s]) && Array.isArray(i[s]) ? t[s] = i[s] : g(t[s]) && g(i[s]) ? t[s] = v(t[s], i[s]) : t[s] = i[s]);\n}), t), {});\nclass y {\n  constructor({\n    x: t,\n    y: i,\n    ctx: s,\n    hue: h,\n    decay: r,\n    gravity: c,\n    friction: u,\n    brightness: o,\n    flickering: d,\n    lineWidth: p,\n    explosionLength: m\n  }) {\n    for (this.coordinates = [], this.alpha = 1, this.x = t, this.y = i, this.ctx = s, this.hue = h, this.gravity = c, this.friction = u, this.flickering = d, this.lineWidth = p, this.explosionLength = m, this.angle = l(0, Math.PI * 2), this.speed = a(1, 10), this.brightness = a(o.min, o.max), this.decay = l(r.min, r.max); this.explosionLength--; )\n      this.coordinates.push([t, i]);\n  }\n  update(t) {\n    this.coordinates.pop(), this.coordinates.unshift([this.x, this.y]), this.speed *= this.friction, this.x += Math.cos(this.angle) * this.speed, this.y += Math.sin(this.angle) * this.speed + this.gravity, this.alpha -= this.decay, this.alpha <= this.decay && t();\n  }\n  draw() {\n    const t = this.coordinates.length - 1;\n    this.ctx.beginPath(), this.ctx.lineWidth = this.lineWidth, this.ctx.fillStyle = x(this.hue, this.brightness, this.alpha), this.ctx.moveTo(this.coordinates[t][0], this.coordinates[t][1]), this.ctx.lineTo(this.x, this.y), this.ctx.strokeStyle = x(this.hue, this.flickering ? l(0, this.brightness) : this.brightness, this.alpha), this.ctx.stroke();\n  }\n}\nclass E {\n  constructor() {\n    this.autoresize = !0, this.lineStyle = \"round\", this.flickering = 50, this.trace = 3, this.traceSpeed = 10, this.intensity = 30, this.explosion = 5, this.gravity = 1.5, this.opacity = 0.5, this.particles = 50, this.friction = 0.95, this.acceleration = 1.05, this.hue = {\n      min: 0,\n      max: 360\n    }, this.rocketsPoint = {\n      min: 50,\n      max: 50\n    }, this.lineWidth = {\n      explosion: {\n        min: 1,\n        max: 3\n      },\n      trace: {\n        min: 1,\n        max: 2\n      }\n    }, this.mouse = {\n      click: !1,\n      move: !1,\n      max: 1\n    }, this.delay = {\n      min: 15,\n      max: 30\n    }, this.brightness = {\n      min: 50,\n      max: 80\n    }, this.decay = {\n      min: 0.015,\n      max: 0.03\n    }, this.sound = {\n      enabled: !1,\n      files: [\n        \"explosion0.mp3\",\n        \"explosion1.mp3\",\n        \"explosion2.mp3\"\n      ],\n      volume: {\n        min: 4,\n        max: 8\n      }\n    }, this.boundaries = {\n      height: 0,\n      width: 0,\n      x: 50,\n      y: 50\n    };\n  }\n  updateOptions(t) {\n    Object.assign(this, v(this, t));\n  }\n}\nconst n = new E();\nclass M {\n  constructor(t) {\n    this.canvas = t, this.active = !1;\n  }\n  subscribe() {\n    this.canvas.addEventListener(\"mousedown\", (t) => this.mouseDown(t)), this.canvas.addEventListener(\"mouseup\", (t) => this.mouseUp(t)), this.canvas.addEventListener(\"mousemove\", (t) => this.mouseMove(t));\n  }\n  unsubscribe() {\n    this.canvas.removeEventListener(\"mousedown\", this.mouseDown), this.canvas.removeEventListener(\"mouseup\", this.mouseUp), this.canvas.removeEventListener(\"mousemove\", this.mouseMove);\n  }\n  useMouse(t, i) {\n    (n.mouse.click || n.mouse.move) && (this.x = t.pageX - this.canvas.offsetLeft, this.y = t.pageY - this.canvas.offsetTop, this.active = i);\n  }\n  mouseDown(t) {\n    this.useMouse(t, n.mouse.click);\n  }\n  mouseUp(t) {\n    this.useMouse(t, !1);\n  }\n  mouseMove(t) {\n    this.useMouse(t, this.active);\n  }\n}\nclass L {\n  constructor(t) {\n    this.fireworks = t;\n  }\n  subscribe() {\n    n.autoresize && window.addEventListener(\"resize\", () => this.bindResize());\n  }\n  unsubscribe() {\n    n.autoresize && window.removeEventListener(\"resize\", this.bindResize);\n  }\n  bindResize() {\n    this.fireworks.updateSize();\n  }\n}\nclass O {\n  constructor() {\n    this.sounds = [], this.onInit = !1, this.init();\n  }\n  init() {\n    !this.onInit && n.sound.enabled && (this.onInit = !0, this.audioContext = new (window.AudioContext || window.webkitAudioContext)(), this.loadSounds());\n  }\n  async loadSounds() {\n    for (const t of n.sound.files) {\n      const i = await (await fetch(t)).arrayBuffer();\n      this.audioContext.decodeAudioData(i).then((s) => {\n        this.sounds.push(s);\n      }).catch((s) => {\n        throw s;\n      });\n    }\n  }\n  play() {\n    if (n.sound.enabled && this.sounds.length) {\n      const t = this.audioContext.createBufferSource(), i = this.sounds[a(0, this.sounds.length - 1)], s = this.audioContext.createGain();\n      t.buffer = i, s.gain.value = l(n.sound.volume.min / 100, n.sound.volume.max / 100), s.connect(this.audioContext.destination), t.connect(s), t.start(0);\n    } else\n      this.init();\n  }\n}\nclass S {\n  constructor({\n    x: t,\n    y: i,\n    dx: s,\n    dy: h,\n    ctx: r,\n    hue: c,\n    speed: u,\n    traceLength: o,\n    acceleration: d\n  }) {\n    for (this.coordinates = [], this.currentDistance = 0, this.x = t, this.y = i, this.sx = t, this.sy = i, this.dx = s, this.dy = h, this.ctx = r, this.hue = c, this.speed = u, this.traceLength = o, this.acceleration = d, this.totalDistance = f(t, i, s, h), this.angle = Math.atan2(h - i, s - t), this.brightness = a(50, 70); this.traceLength--; )\n      this.coordinates.push([t, i]);\n  }\n  update(t) {\n    this.coordinates.pop(), this.coordinates.unshift([this.x, this.y]), this.speed *= this.acceleration;\n    const i = Math.cos(this.angle) * this.speed, s = Math.sin(this.angle) * this.speed;\n    this.currentDistance = f(this.sx, this.sy, this.x + i, this.y + s), this.currentDistance >= this.totalDistance ? t(this.dx, this.dy, this.hue) : (this.x += i, this.y += s);\n  }\n  draw() {\n    const t = this.coordinates.length - 1;\n    this.ctx.beginPath(), this.ctx.moveTo(this.coordinates[t][0], this.coordinates[t][1]), this.ctx.lineTo(this.x, this.y), this.ctx.strokeStyle = x(this.hue, this.brightness), this.ctx.stroke();\n  }\n}\nclass C {\n  constructor(t, i = {}) {\n    this.tick = 0, this.timestamp = performance.now(), this.running = !1, this.traces = [], this.explosions = [], this.container = t, t instanceof HTMLCanvasElement ? this.canvas = t : (this.canvas = document.createElement(\"canvas\"), this.container.appendChild(this.canvas)), this.ctx = this.canvas.getContext(\"2d\"), this.updateOptions(i), this.updateSize(), this.sound = new O(), this.resize = new L(this), this.mouse = new M(this.canvas);\n  }\n  get isRunning() {\n    return this.running;\n  }\n  get \"2.0.0\"() {\n    return \"2.0.0\";\n  }\n  start() {\n    this.running || (this.running = !0, this.resize.subscribe(), this.mouse.subscribe(), this.clear(), this.render());\n  }\n  stop() {\n    !this.running || (this.running = !1, this.resize.unsubscribe(), this.mouse.unsubscribe(), this.clear());\n  }\n  pause() {\n    this.running = !this.running, this.running && this.render();\n  }\n  clear() {\n    !this.ctx || (this.traces = [], this.explosions = [], this.ctx.clearRect(0, 0, this.width, this.height));\n  }\n  updateOptions(t) {\n    n.updateOptions(t);\n  }\n  updateSize({\n    width: t = this.container instanceof HTMLCanvasElement ? this.canvas.width : this.container.clientWidth,\n    height: i = this.container instanceof HTMLCanvasElement ? this.canvas.height : this.container.clientHeight\n  } = {}) {\n    this.width = t, this.height = i, this.canvas.width = t, this.canvas.height = i, this.updateBoundaries({\n      ...n.boundaries,\n      width: t,\n      height: i\n    });\n  }\n  updateBoundaries(t) {\n    this.updateOptions({ boundaries: t });\n  }\n  render(t = this.timestamp) {\n    if (!this.ctx || !this.running)\n      return;\n    requestAnimationFrame((s) => this.render(s)), this.ctx.globalCompositeOperation = \"destination-out\", this.ctx.fillStyle = `rgba(0, 0, 0, ${n.opacity})`, this.ctx.fillRect(0, 0, this.width, this.height), this.ctx.globalCompositeOperation = \"lighter\", this.ctx.lineCap = n.lineStyle, this.ctx.lineJoin = \"round\", this.initTrace(), this.drawTrace(), this.drawExplosion();\n    const i = t - this.timestamp;\n    this.timestamp = t, this.tick += i * (n.intensity * Math.PI) / 1e3;\n  }\n  initTrace() {\n    const {\n      hue: t,\n      delay: i,\n      rocketsPoint: s,\n      boundaries: h,\n      trace: r,\n      traceSpeed: c,\n      acceleration: u,\n      mouse: o\n    } = n;\n    (this.tick > a(i.min, i.max) || this.mouse.active && o.max > this.traces.length) && (this.traces.push(new S({\n      x: this.width * a(s.min, s.max) / 100,\n      y: this.height,\n      dx: this.mouse.x && o.move || this.mouse.active ? this.mouse.x : a(h.x, h.width - h.x * 2),\n      dy: this.mouse.y && o.move || this.mouse.active ? this.mouse.y : a(h.y, h.height * 0.5),\n      ctx: this.ctx,\n      hue: a(t.min, t.max),\n      speed: c,\n      acceleration: u,\n      traceLength: r\n    })), this.tick = 0);\n  }\n  drawTrace() {\n    this.ctx.lineWidth = l(n.lineWidth.trace.min, n.lineWidth.trace.max);\n    let t = this.traces.length;\n    for (; t--; )\n      this.traces[t].draw(), this.traces[t].update((i, s, h) => {\n        this.initExplosion(i, s, h), this.sound.play(), this.traces.splice(t, 1);\n      });\n  }\n  initExplosion(t, i, s) {\n    const {\n      particles: h,\n      flickering: r,\n      lineWidth: c,\n      explosion: u,\n      brightness: o,\n      friction: d,\n      gravity: p,\n      decay: m\n    } = n;\n    let w = h;\n    for (; w--; )\n      this.explosions.push(new y({\n        x: t,\n        y: i,\n        ctx: this.ctx,\n        hue: s,\n        friction: d,\n        gravity: p,\n        flickering: a(0, 100) <= r,\n        lineWidth: l(c.explosion.min, c.explosion.max),\n        explosionLength: Math.round(u),\n        brightness: o,\n        decay: m\n      }));\n  }\n  drawExplosion() {\n    let t = this.explosions.length;\n    for (; t--; )\n      this.explosions[t].draw(), this.explosions[t].update(() => {\n        this.explosions.splice(t, 1);\n      });\n  }\n}\nexport {\n  C as Fireworks,\n  C as default\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}